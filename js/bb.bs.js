////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////             /////////////////////////////////////////
//// copyright aestesis.net R.JEGOUZO   \\  bb.bs.js   \\            bb bootstrap           ////
//////////////////////////////////////////   v1.1.07   /////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////
/*jshint white: true, curly: false, loopfunc: true, esnext: true */
// license Apache 2.0
////////////////////////////////////////////////////////////////////////////////////////////////
////   namespace   /////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////
(function () {
	"use strict";
	////////////////////////////////////////////////////////////////////////////////////////////
	bb.bsfn = {};
	////////////////////////////////////////////////////////////////////////////////////////////
	bb.bscreate = function (parent, template, options) {
		options = options || {};
		let tmpl = document.querySelector('#template-' + template);
		if (!tmpl) {
			console.error('bb.bs: template ' + template + ' not found');
			return;
		}
		let src = tmpl.content.firstElementChild;
		let el = document.importNode(src, true);
		el.bb = bb.merge(bb.base, {
			querySelector(sel) {
				return this.element.querySelector(sel);
			},
			remove() {
				this.dispatch('remove');
				this.element.parentNode.removeChild(this.element);
			}
		});
		el.bb.pv.events.remove = [];
		el.bb.element = el;
		el.bb.type.push('bs');
		el.bb.type.push(template);
		if (parent.bb && parent.bb.append)
			parent.bb.append(template, el, options);
		else
			parent.appendChild(el);
		if (template in bb.bsfn)
			bb.bsfn[template].call(el.bb, options);
		return el;
	};
	////////////////////////////////////////////////////////////////////////////////////////////
})();
////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////